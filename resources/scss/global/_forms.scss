@use "../util" as *;

@layer forms {
    input,
    textarea,
    select {
        inline-size: 100%;
        padding: var(--spacing-150) var(--spacing-200);
        background-color: var(--color-surface-primary);
        color: var(--color-text-primary);
        border: 1px solid var(--color-border-primary);
        border-radius: var(--br-10);
        font-size: inherit;
        font-family: inherit;
        line-height: var(--lh-normal);
        transition: border-color var(--transition-fast),
            box-shadow var(--transition-fast);

        &:hover {
            border-color: var(--color-border-hover);
        }

        &:focus {
            outline: none;
            border-color: var(--c-primary-500);
            box-shadow: 0 0 0 3px oklch(from var(--c-primary-500) l c h / 0.1);
        }

        &::placeholder {
            color: var(--color-text-tertiary);
        }

        &:disabled {
            opacity: 0.6;
            cursor: not-allowed;
        }
    }

    textarea {
        resize: vertical;
        min-height: #{rem(120)};
    }

    select {
        cursor: pointer;
        appearance: none;
        background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 20 20'%3e%3cpath stroke='%236b7280' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='M6 8l4 4 4-4'/%3e%3c/svg%3e");
        background-position: right var(--spacing-150) center;
        background-repeat: no-repeat;
        background-size: #{rem(20)} #{rem(20)};
        padding-inline-end: var(--spacing-500);
    }

    label {
        display: block;
        font-size: var(--fs-14);
        font-weight: var(--fw-medium);
        color: var(--color-text-primary);
        margin-block-end: var(--spacing-100);
    }

    .form-group {
        margin-block-end: var(--spacing-300);
    }

    .form-error {
        display: block;
        margin-block-start: var(--spacing-100);
        font-size: var(--fs-14);
        color: oklch(55% 0.2 25);
    }

    .form-help {
        display: block;
        margin-block-start: var(--spacing-100);
        font-size: var(--fs-14);
        color: var(--color-text-secondary);
    }

    .sr-only:not(:focus):not(:active) {
        clip: rect(0 0 0 0);
        clip-path: inset(50%);
        height: 1px;
        overflow: hidden;
        position: absolute;
        white-space: nowrap;
        width: 1px;
    }
}
