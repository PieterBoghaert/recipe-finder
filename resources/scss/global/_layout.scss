@use "../util" as *;

@layer layout {
    :root {
        /* Container widths */
        --wrapper-size: #{rem(1192)};
        --header-wrapper-size: #{rem(1320)};
        --wrapper-padding: var(--spacing-200);

        @include breakpoint(md) {
            --wrapper-padding: var(--spacing-400);
        }

        /* Grid */
        --grid-gap: var(--spacing-400);
        --grid-columns: 12;

        /* Z-index scale */
        --z-base: 0;
        --z-dropdown: 100;
        --z-sticky: 200;
        --z-fixed: 300;
        --z-modal-backdrop: 400;
        --z-modal: 500;
        --z-popover: 600;
        --z-tooltip: 700;

        --card-size: #{rem(360)};
    }

    ::selection {
        background-color: var(--c-neutral-900);
        color: var(--c-white);
    }

    .wrapper {
        max-inline-size: var(--wrapper-size);
        margin-inline: auto;
        padding-inline: var(--wrapper-padding);
    }

    .container {
        inline-size: 100%;
        margin-inline: auto;
        padding-inline: var(--spacing-200);

        @include breakpoint(sm) {
            max-inline-size: #{rem(640)};
        }

        @include breakpoint(md) {
            max-inline-size: #{rem(768)};
        }

        @include breakpoint(lg) {
            max-inline-size: #{rem(1024)};
            padding-inline: var(--spacing-300);
        }

        @include breakpoint(xl) {
            max-inline-size: #{rem(1280)};
        }
    }

    .grid {
        display: grid;
        gap: var(--grid-gap);
        grid-template-columns: repeat(var(--grid-columns), 1fr);
    }

    .flex {
        display: flex;
    }

    .flex-col {
        display: flex;
        flex-direction: column;
    }

    .flex-center {
        display: flex;
        align-items: center;
        justify-content: center;
    }

    /* Sticky footer */
    body {
        min-height: 100vh;
        display: flex;
        flex-direction: column;
        //margin-inline: var(--spacing-200);
    }

    main {
        flex: 1 0 auto;
    }

    .site-content {
        margin-block-start: var(--spacing-600);

        @include breakpoint(md) {
            margin-block-start: var(--spacing-800);
        }

        @include breakpoint(lg) {
            margin-block-start: var(--spacing-1000);
        }
    }

    footer {
        flex-shrink: 0;
    }

    .has-full-line {
        border-block-start: 1px solid var(--c-neutral-300);
    }

    /* View Transitions - Recipe Images */
    @supports (view-transition-name: none) {
        // Customize the transition for recipe images
        ::view-transition-group(*) {
            animation-duration: 0.5s;
            animation-timing-function: ease-in-out;
        }

        ::view-transition-old(*),
        ::view-transition-new(*) {
            animation-duration: 0.5s;
            animation-timing-function: ease-in-out;
        }

        // Ensure images maintain aspect ratio during transition
        [style*="view-transition-name: recipe-image"] {
            contain: layout;
        }
    }
}
